<?xml version="1.0" encoding="UTF-8"?>
<gadgetronStreamConfiguration xsi:schemaLocation="http://gadgetron.sf.net/gadgetron gadgetron.xsd"
        xmlns="http://gadgetron.sf.net/gadgetron"
        xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
        
    <reader>
      <slot>1008</slot>
      <dll>gadgetron_mricore</dll>
      <classname>GadgetIsmrmrdAcquisitionMessageReader</classname>
    </reader>

    <reader>
      <slot>1022</slot>
      <dll>gadgetron_mricore</dll>
      <classname>MRIImageReader</classname>
    </reader>
    
    <writer>
      <slot>1022</slot>
      <dll>gadgetron_mricore</dll>
      <classname>MRIImageWriter</classname>
    </writer>

    <writer>
      <slot>1008</slot>
      <dll>gadgetron_mricore</dll>
      <classname>GadgetIsmrmrdAcquisitionMessageWriter</classname>
    </writer>

    <gadget>
      <name>Distribute</name>
      <dll>gadgetron_distributed</dll>
      <classname>IsmrmrdAcquisitionDistributeGadget</classname>
      <property>
        <name>parallel_dimension</name>
        <value>repetition</value>
      </property>
      <property>
        <name>use_this_node_for_compute</name>
        <value>true</value>
      </property>
    </gadget>

    <gadget>
        <name>RemoveROOversampling</name>
        <dll>gadgetron_mricore</dll>
        <classname>RemoveROOversamplingGadget</classname>
    </gadget>
    
    <gadget>
        <name>AccTrig</name>
        <dll>gadgetron_mricore</dll>
        <classname>AcquisitionAccumulateTriggerGadget</classname>
        <property>
            <name>trigger_dimension</name>
            <value>repetition</value>
        </property>
        <property>
          <name>sorting_dimension</name>
          <value>slice</value>
        </property>
    </gadget>

    <gadget>
        <name>Buff</name>
        <dll>gadgetron_mricore</dll>
        <classname>BucketToBufferGadget</classname>
        <property>
            <name>N_dimension</name>
            <value></value>
        </property>
        <property>
          <name>S_dimension</name>
          <value></value>
        </property>
        <property>
          <name>split_slices</name>
          <value>true</value>
        </property>
    </gadget>

     <gadget>
      <name>SimpleRecon</name>
      <dll>gadgetron_mricore</dll>
      <classname>SimpleReconGadget</classname>
     </gadget>

    <gadget>
      <name>ImageArraySplit</name>
      <dll>gadgetron_mricore</dll>
      <classname>ImageArraySplitGadget</classname>
     </gadget>

    <gadget>
        <name>Collect</name>
        <dll>gadgetron_distributed</dll>
        <classname>CollectGadget</classname>
    </gadget>

    <gadget>
      <name>Extract</name>
      <dll>gadgetron_mricore</dll>
      <classname>ExtractGadget</classname>
    </gadget>  


    <!-- We are inserting an image sorter here so that the images always come out in the same order for integration test -->
    <gadget>
      <name>Sort</name>
      <dll>gadgetron_mricore</dll>
      <classname>ImageSortGadget</classname>
      <property>
        <name>sorting_dimension</name>
        <value>repetition</value>
      </property>
    </gadget>  

    <gadget>
      <name>ImageFinish</name>
      <dll>gadgetron_mricore</dll>
      <classname>ImageFinishGadget</classname>
    </gadget>

</gadgetronStreamConfiguration>
